-   <a href="#content" id="skip-main">Skip to main content</a>
-   <a href="#main-q" id="skip-search">Skip to search</a>
-   <a href="#select-language" id="skip-select-language">Skip to select language</a>

-   Technologies
    -   [Technologies Overview](https://developer.mozilla.org/en-US/docs/Web)
    -   [HTML](https://developer.mozilla.org/en-US/docs/Web/HTML)
    -   [CSS](https://developer.mozilla.org/en-US/docs/Web/CSS)
    -   [JavaScript](https://developer.mozilla.org/en-US/docs/Web/JavaScript)
    -   [Graphics](https://developer.mozilla.org/en-US/docs/Web/Guide/Graphics)
    -   [HTTP](https://developer.mozilla.org/en-US/docs/Web/HTTP)
    -   [APIs](https://developer.mozilla.org/en-US/docs/Web/API)
    -   [Browser Extensions](https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions)
    -   [MathML](https://developer.mozilla.org/en-US/docs/Web/MathML)
-   References & Guides
    -   [Learn web development](https://developer.mozilla.org/en-US/docs/Learn)
    -   [Tutorials](https://developer.mozilla.org/en-US/docs/Web/Tutorials)
    -   [References](https://developer.mozilla.org/en-US/docs/Web/Reference)
    -   [Developer Guides](https://developer.mozilla.org/en-US/docs/Web/Guide)
    -   [Accessibility](https://developer.mozilla.org/en-US/docs/Web/Accessibility)
    -   [Game development](https://developer.mozilla.org/en-US/docs/Games)
    -   [...more docs](https://developer.mozilla.org/en-US/docs/Web)
-   Feedback
    -   [Send Feedback](https://developer.mozilla.org/en-US/docs/MDN/Contribute/Feedback)
    -   [Contribute to MDN](https://developer.mozilla.org/en-US/docs/MDN/Contribute)
    -   [Report a content issue üåê](https://github.com/mdn/content/issues/new)
    -   [Report a platform issue üåê](https://github.com/mdn/yari/issues/new)

Search MDN

1.  <a href="https://developer.mozilla.org/en-US/docs/Web" class="breadcrumb"><span data-property="name">Web technology for developers</span></a>
2.  <a href="https://developer.mozilla.org/en-US/docs/Web/API" class="breadcrumb-penultimate"><span data-property="name">Web APIs</span></a>
3.  <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaStream_Recording_API" class="breadcrumb-current-page"><span data-property="name">MediaStream Recording API</span></a>

-   <a href="#select-language" class="language-icon"><span class="show-desktop">Change language</span></a>

Table of contents
-----------------

Table of contents

-   [Basic concepts](#basic_concepts)
-   [Reference](#reference)
-   [Specifications](#specifications)
-   [Browser compatibility](#browser_compatibility)
-   [See also](#see_also)

MediaStream Recording API
=========================

<span class="seoSummary">The **MediaStream Recording API**, sometimes referred to as the *Media Recording API* or the *MediaRecorder API*, is closely affiliated with the [Media Capture and Streams API](https://developer.mozilla.org/en-US/docs/Web/API/Media_Streams_API) and the [WebRTC API](https://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API). The MediaStream Recording API makes it possible to capture the data generated by a [`MediaStream`](https://developer.mozilla.org/en-US/docs/Web/API/MediaStream) or [`HTMLMediaElement`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement) object for analysis, processing, or saving to disk. It's also surprisingly easy to work with.</span>

[Basic concepts](#basic_concepts "Permalink to Basic concepts")
---------------------------------------------------------------

The MediaStream Recording API is comprised of a single major interface, [`MediaRecorder`](https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder), which does all the work of taking the data from a [`MediaStream`](https://developer.mozilla.org/en-US/docs/Web/API/MediaStream) and delivering it to you for processing. The data is delivered by a series of `dataavailable` events, already in the format you specify when creating the `MediaRecorder`. You can then process the data further or write it to file as desired.

### [Overview of the recording process](#overview_of_the_recording_process "Permalink to Overview of the recording process")

The process of recording a stream is simple:

1.  Set up a [`MediaStream`](https://developer.mozilla.org/en-US/docs/Web/API/MediaStream) or [`HTMLMediaElement`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement) (in the form of an [`<audio>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio) or [`<video>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video) element) to serve as the source of the media data.
2.  Create a [`MediaRecorder`](https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder) object, specifying the source stream and any desired options (such as the container's MIME type or the desired bit rates of its tracks).
3.  Set [`MediaRecorder.ondataavailable`](https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder/ondataavailable) to an event handler for the `dataavailable` event; this will be called whenever data is available for you.
4.  Once the source media is playing and you've reached the point where you're ready to record video, call [`MediaRecorder.start()`](https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder/start) to begin recording.
5.  Your `dataavailable` event handler gets called every time there's data ready for you to do with as you will; the event has a `data` attribute whose value is a [`Blob`](https://developer.mozilla.org/en-US/docs/Web/API/Blob) that contains the media data. You can force a `dataavailable` event to occur, thereby delivering the latest sound to you so you can filter it, save it, or whatever.
6.  Recording stops automatically when the source media stops playing.
7.  You can stop recording at any time by calling [`MediaRecorder.stop()`](https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder/stop).

**Note:** Individual [`Blob`](https://developer.mozilla.org/en-US/docs/Web/API/Blob)s containing slices of the recorded media will not necessarily be individually playable. The media needs to be reassembled before playback.

If anything goes wrong during recording, an `error` event is sent to the `MediaRecorder`. You can listen for `error` events by setting up a [`onerror`](https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder/onerror "onerror") event handler.  
  
Example here, we use an HTML Canvas as source of the¬†[`MediaStream`](https://developer.mozilla.org/en-US/docs/Web/API/MediaStream), and stop recording after 9 seconds.

    var canvas = document.querySelector("canvas");

    // Optional frames per second argument.
    var stream = canvas.captureStream(25);
    var recordedChunks = [];

    console.log(stream);
    var options = { mimeType: "video/webm; codecs=vp9" };
    mediaRecorder = new MediaRecorder(stream, options);

    mediaRecorder.ondataavailable = handleDataAvailable;
    mediaRecorder.start();

    function handleDataAvailable(event) {
      console.log("data-available");
      if (event.data.size > 0) {
        recordedChunks.push(event.data);
        console.log(recordedChunks);
        download();
      } else {
        // ...
      }
    }
    function download() {
      var blob = new Blob(recordedChunks, {
        type: "video/webm"
      });
      var url = URL.createObjectURL(blob);
      var a = document.createElement("a");
      document.body.appendChild(a);
      a.style = "display: none";
      a.href = url;
      a.download = "test.webm";
      a.click();
      window.URL.revokeObjectURL(url);
    }

    // demo: to download after 9sec
    setTimeout(event => {
      console.log("stopping");
      mediaRecorder.stop();
    }, 9000);

### [Examining and controlling the recorder status](#examining_and_controlling_the_recorder_status "Permalink to Examining and controlling the recorder status")

You can also use the properties of the `MediaRecorder` object to determine the state of the recording process, and its [`pause()`](https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder/pause "pause()") and [`resume()`](https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder/resume "resume()") methods to pause and resume recording of the source media.

If you need or want to check to see if a specific MIME type is supported, that's possible as well. Just call [`MediaRecorder.isTypeSupported()`](https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder/isTypeSupported).

### [Examining potential input sources](#examining_potential_input_sources "Permalink to Examining potential input sources")

If your goal is to record camera and/or microphone input, you may wish to examine the available input devices before beginning the process of constructing the `MediaRecorder`. To do so, you'll need to call [`navigator.mediaDevices.enumerateDevices()`](https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/enumerateDevices "navigator.mediaDevices.enumerateDevices()") to get a list of the available media devices. You can then examine that list and identify the potential input sources, and even filter the list based on desired criteria.

In this code snippet, `enumerateDevices()` is used to examine the available input devices, locate those which are audio input devices, and create [`<option>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/option) elements that are then added to a [`<select>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select) element representing an input source picker.

    navigator.mediaDevices.enumerateDevices()
    .then(function(devices) {
      devices.forEach(function(device) {
        let menu = document.getElementById("inputdevices");
        if (device.kind == "audioinput") {
          let item = document.createElement("option");
          item.innerText = device.label;
          item.value = device.deviceId;
          menu.appendChild(item);
        }
      });
    });

Code similar to this can be used to let the user restrict the set of devices they wish to use.

### [For more information](#for_more_information "Permalink to For more information")

To learn more about using the MediaStream Recording API, see [Using the MediaStream Recording API](https://developer.mozilla.org/en-US/docs/Web/API/MediaStream_Recording_API/Using_the_MediaStream_Recording_API), which shows how to use the API to record audio clips. A second article, [Recording a media element](https://developer.mozilla.org/en-US/docs/Web/API/MediaStream_Recording_API/Recording_a_media_element), describes how to receive a stream from an [`<audio>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio) or [`<video>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video) element and use the captured stream (in this case, recording it and saving it to a local disk).

[Reference](#reference "Permalink to Reference")
------------------------------------------------

[`BlobEvent`](https://developer.mozilla.org/en-US/docs/Web/API/BlobEvent)  
Each time a chunk of media data is finished being recorded, it's delivered to consumers in [`Blob`](https://developer.mozilla.org/en-US/docs/Web/API/Blob) form using a [`BlobEvent`](https://developer.mozilla.org/en-US/docs/Web/API/BlobEvent) of type `dataavailable`.

[`MediaRecorder`](https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder)  
The primary interface that implements the MediaStream Recording API.

[`MediaRecorderErrorEvent`](https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorderErrorEvent)  
The interface that represents errors thrown by the MediaStream Recording API. Its [`error`](https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorderErrorEvent/error "error") property is a [`DOMException`](https://developer.mozilla.org/en-US/docs/Web/API/DOMException) that specifies that error occurred.

[Specifications](#specifications "Permalink to Specifications")
---------------------------------------------------------------

<table><thead><tr class="header"><th>Specification</th><th>Status</th><th>Comment</th></tr></thead><tbody><tr class="odd"><td><a href="https://w3c.github.io/mediacapture-record/#MediaRecorderAPI" class="external" title="The &#39;MediaStream Recording&#39; specification">MediaStream Recording</a></td><td><span class="spec-wd">Working Draft</span></td><td>Initial definition</td></tr></tbody></table>

[Browser compatibility](#browser_compatibility "Permalink to Browser compatibility")
------------------------------------------------------------------------------------

### [MediaRecorder](#mediarecorder "Permalink to MediaRecorder")

BCD tables only load in the browser

[See also](#see_also "Permalink to See also")
---------------------------------------------

-   [Using the MediaStream Recording API](https://developer.mozilla.org/en-US/docs/Web/API/MediaStream_Recording_API/Using_the_MediaStream_Recording_API)
-   [Recording a media element](https://developer.mozilla.org/en-US/docs/Web/API/MediaStream_Recording_API/Recording_a_media_element)
-   <a href="https://simpl.info/mediarecorder/" class="external">simpl.info MediaStream Recording demo</a>, by <a href="https://twitter.com/sw12" class="external">Sam Dutton</a>
-   [`MediaDevices.getUserMedia`](https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia)
-   <a href="https://addpipe.com/blog/mediarecorder-api/" class="external">HTML5‚Äôs Media Recorder API in Action on Chrome and Firefox</a>
-   <a href="https://github.com/ai/audio-recorder-polyfill" class="external">MediaRecorder polyfill</a> for Safari and Edge
-   <a href="https://github.com/chrisjohndigital/TutorRoom" class="external">TutorRoom</a>: HTML5 video capture/playback/download using getUserMedia and the MediaRecorder API (<a href="https://github.com/chrisjohndigital/TutorRoom" class="external">source on GitHub</a>)
-   <a href="https://codepen.io/anon/pen/gpmPzm" class="external">Simple video recording demo</a>
-   <a href="https://quickblox.github.io/javascript-media-recorder/sample/" class="external">Advanced media stream recorder sample</a>
-   <a href="https://github.com/chrisjohndigital/OpenLang" class="external">OpenLang</a>: HTML5 video language lab web application using¬†MediaDevices and the MediaStream Recording API for video recording (<a href="https://github.com/chrisjohndigital/OpenLang" class="external">source on GitHub</a>)
-   <a href="https://addpipe.com/blog/safari-technology-preview-73-adds-limited-mediastream-recorder-api-support/" class="external">MediaStream Recorder API Now Available in Safari Technology Preview 73</a>

#### Found a problem with this page?

-   [Source on **GitHub**](https://github.com/mdn/content/blob/main/files/en-us/web/api/mediastream_recording_api/index.html "Folder: en-us/web/api/mediastream_recording_api (Opens in a new tab)")
-   [Report a problem with this content on **GitHub**](https://github.com/mdn/content/issues/new?body=MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FMediaStream_Recording_API%0A%0A%23%23%23%23+What+information+was+incorrect%2C+unhelpful%2C+or+incomplete%3F%0A%0A%0A%23%23%23%23+Specific+section+or+headline%3F%0A%0A%0A%23%23%23%23+What+did+you+expect+to+see%3F%0A%0A%0A%23%23%23%23+Did+you+test+this%3F+If+so%2C+how%3F%0A%0A%0A%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EMDN+Content+page+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fweb%2Fapi%2Fmediastream_recording_api%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FMediaStream_Recording_API%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fweb%2Fapi%2Fmediastream_recording_api%2Findex.html%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2F728053ce1768f0c09352e455683667a50e03cde3%0A*+Document+last+modified%3A+2021-04-29T03%3A50%3A08.000Z%0A%0A%3C%2Fdetails%3E&title=Issue+with+%22MediaStream+Recording+API%22%3A+%28short+summary+here+please%29&labels=Content%3AWebAPI%2Cneeds-triage "This will take you to https://github.com/mdn/content to file a new issue")
-   Want to fix the problem yourself? See [our Contribution guide](https://github.com/mdn/content/blob/main/README.md).

**Last modified:** Apr 29, 2021, [by MDN contributors](https://developer.mozilla.org/en-US/docs/Web/API/MediaStream_Recording_API/contributors.txt)

Change your languageSelect your preferred language English (US)Êó•Êú¨Ë™û–†—É—Å—Å–∫–∏–π‰∏≠Êñá (ÁÆÄ‰Ωì)

Change language

#### Related Topics

1.  **[MediaStream Recording API](https://developer.mozilla.org/en-US/docs/Web/API/MediaStream_Recording_API)**
2.  Guides
    1.  [Using the MediaStream Recording API](https://developer.mozilla.org/en-US/docs/Web/API/MediaStream_Recording_API/Using_the_MediaStream_Recording_API)
    2.  [Recording a media element](https://developer.mozilla.org/en-US/docs/Web/API/MediaStream_Recording_API/Recording_a_media_element)
3.  Interfaces
    1.  [`MediaRecorder`](https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder)
    2.  [`MediaRecorderErrorEvent`](https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorderErrorEvent)
    3.  [`BlobEvent`](https://developer.mozilla.org/en-US/docs/Web/API/BlobEvent)

-   [Web Technologies](https://developer.mozilla.org/en-US/docs/Web)
-   [Learn Web Development](https://developer.mozilla.org/en-US/docs/Learn)
-   [About MDN](https://developer.mozilla.org/en-US/docs/MDN/About)
-   [Feedback](https://developer.mozilla.org/en-US/docs/MDN/Feedback)

<!-- -->

-   [About](https://www.mozilla.org/about/)
-   [MDN Web Docs Store](https://shop.spreadshirt.com/mdn-store/)
-   [Contact Us](https://www.mozilla.org/contact/)
-   [Firefox](https://www.mozilla.org/firefox/?utm_source=developer.mozilla.org&utm_campaign=footer&utm_medium=referral)

#### MDN

-   <a href="https://twitter.com/mozdevnet" class="social-icon twitter"><span class="visually-hidden">MDN on Twitter</span></a>
-   <a href="https://github.com/mdn/" class="social-icon github"><span class="visually-hidden">MDN on Github</span></a>

#### Mozilla

-   <a href="https://twitter.com/mozilla" class="social-icon twitter"><span class="visually-hidden">Mozilla on Twitter</span></a>
-   <a href="https://www.instagram.com/mozillagram/" class="social-icon instagram"><span class="visually-hidden">Mozilla on Instagram</span></a>

¬© 2005-2021 Mozilla and individual contributors. Content is available under [these licenses](https://developer.mozilla.org/docs/MDN/About#Copyrights_and_licenses).

-   [Terms](https://www.mozilla.org/about/legal/terms/mozilla)
-   [Privacy](https://www.mozilla.org/privacy/websites/)
-   [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
